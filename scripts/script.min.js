import{createApp,reactive}from"https://unpkg.com/petite-vue?module";const util=reactive({fetchData:api=>fetch(api).then(res=>res.json()),firstLetterUppercase:str=>str.charAt(0).toUpperCase()+str.slice(1)}),App={util:util,max:905,pokemons:[],types:[],currentType:"",get filterPokemons(){return this.currentType?this.pokemons.filter(pokemon=>pokemon.types.includes(this.currentType)):this.pokemons},get progress(){return`${this.pokemons.length/this.max*100}%`},async init(){this.addPokemons(this.max)},addPokemons(num){for(let i=1;i<=num;i++)requestAnimationFrame(()=>{this.fetchPokemon(this.pokemons.length+i)})},async fetchPokemon(id){const pokemon=await util.fetchData(`https://pokeapi.co/api/v2/pokemon/${id}`),types=pokemon.types.map(type=>type.type.name);this.pokemons.push({id:id,name:pokemon.name,image:pokemon.sprites.other["official-artwork"].front_default,types:types}),types.forEach(type=>{this.types.includes(type)||this.types.push(type)})}};createApp(App).mount();